<app-navbar></app-navbar>

<div class="product-detail" *ngIf="product">
  <!-- Left Section - Image -->
  <div class="left">
    <div class="product-image">
      <img [src]="product.image" 
           [alt]="product.name" 
           class="image-inner" 
           onerror="this.src='assets/images/placeholder.jpg'" />
      <div class="icons">
        <button (click)="toggleSave()" 
                class="heart-btn"
                [class.saved]="isSaved()"
                [attr.aria-label]="isSaved() ? '‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î' : '‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î'">
          {{ isSaved() ? '‚ô•' : '‚ô°' }}
        </button>
        <button class="bookmark" aria-label="‡∏ö‡∏∏‡πä‡∏Ñ‡∏°‡∏≤‡∏£‡πå‡∏Å">üîñ</button>
      </div>
    </div>
  </div>

  <!-- Right Section - Info -->
  <div class="right product-info">
    <h2 class="product-name">{{ product.name }}</h2>
       <!-- Description (optional) -->
    <div class="description" *ngIf="product.description">
      <h3>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
      <p>{{ product.description }}</p>
    </div>
    <div class="product-price">
      ‡∏ø{{ product.price | number:'1.2-2' }}
      <span class="original-price" *ngIf="product.originalPrice">
        ‡∏ø{{ product.originalPrice | number:'1.2-2' }}
      </span>
    </div>

    <!-- Rating -->
    <div class="rating" *ngIf="product.rating">
      <span class="stars">‚≠ê {{ product.rating }}/5</span>
    </div>

    <!-- Sizes -->
    <div *ngIf="product.sizes && product.sizes.length > 0" class="sizes-row">
      <label>‡∏Ç‡∏ô‡∏≤‡∏î:</label>
      <div class="sizes">
        <button *ngFor="let s of product.sizes" 
                [class.active]="s === selectedSize" 
                (click)="selectedSize = s">
          {{ s }}
        </button>
      </div>
    </div>

    <!-- Quantity -->
    <div class="qty-row">
      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô:</label>
      <div class="qty">
        <button class="qty-btn" (click)="decrement()">‚àí</button>
        <input type="number" 
               [(ngModel)]="quantity" 
               min="1" 
               max="99" />
        <button class="qty-btn" (click)="increment()">+</button>
      </div>
    </div>

    <!-- Actions -->
    <div class="product-actions">
      <button class="view-btn" (click)="buyNow()">‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢</button>
      <button class="add" (click)="addToBag()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
    </div>

</div>

<!-- Loading State -->
<div class="loading" *ngIf="!product">
  <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
</div>
</div>
<app-footer></app-footer>